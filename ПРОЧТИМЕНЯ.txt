Работа с канвасом осуществляется через layers.currentLayer.canvas, layers.currentLayer.context
работа со служебным канвасом - layers.serviceLayer.canvas

объект state - в нем в качестве полей хранятся текущие настройки цвета, размера кисти и другое

объект managers - сореджит менеджеров. Менеджер занимается рисованием на канвасе, то есть содержит главную рабочуу логику приложения. Он навешивает на служебный канвас обработчиков событий, хранит необходимые данные для рисования, координаты, специфический вид инструмента (например бублик или прямоугольник ли рисуется). Менеджер запускается при выборе какого-то инструмента с помощью метода managers.setManager. При этом должен быть сначала послан сигнал предыдущему менеджеру (если он установлен), для того чтобы он мог сбросить свои настройки, убрать своих обработчиков с сервисного канваса.

выбранный язык - state.language;